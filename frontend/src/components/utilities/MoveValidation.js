const moveConnections = {
  // Row 0
  "0-0": ["0-1", "1-0", "1-1"],
  "0-1": ["0-0", "0-2", "1-1"],
  "0-2": ["0-1", "0-3", "1-1", "1-2", "1-3"],
  "0-3": ["0-2", "0-4", "1-3"],
  "0-4": ["0-3", "1-4", "1-3"],

  // Row 1
  "1-0": ["0-0", "1-1", "2-0", "2-1"],
  "1-1": ["0-0", "0-1", "0-2", "1-0", "1-2", "2-0", "2-1", "2-2"],
  "1-2": ["0-2", "1-1", "1-3", "2-1", "2-2", "2-3"],
  "1-3": ["0-2", "0-3", "0-4", "1-2", "1-4", "2-2", "2-3", "2-4"],
  "1-4": ["0-4", "1-3", "2-4", "2-3"],

  // Row 2 (center row - most connections)
  "2-0": ["1-0", "1-1", "2-1", "3-0", "3-1"],
  "2-1": ["1-0", "1-1", "1-2", "2-0", "2-2", "3-0", "3-1", "3-2"],
  "2-2": ["1-1", "1-2", "1-3", "2-1", "2-3", "3-1", "3-2", "3-3"], // center point
  "2-3": ["1-2", "1-3", "1-4", "2-2", "2-4", "3-2", "3-3", "3-4"],
  "2-4": ["1-4", "1-3", "2-3", "3-4", "3-3"],

  // Row 3
  "3-0": ["2-0", "2-1", "3-1", "4-0", "4-1"],
  "3-1": ["2-0", "2-1", "2-2", "3-0", "3-2", "4-0", "4-1", "4-2"],
  "3-2": ["2-1", "2-2", "2-3", "3-1", "3-3", "4-1", "4-2", "4-3"],
  "3-3": ["2-2", "2-3", "2-4", "3-2", "3-4", "4-2", "4-3", "4-4"],
  "3-4": ["2-4", "2-3", "3-3", "4-4", "4-3"],

  // Row 4
  "4-0": ["3-0", "3-1", "4-1"],
  "4-1": ["3-1", "4-0", "4-2"],
  "4-2": ["3-1", "3-2", "3-3", "4-1", "4-3"],
  "4-3": ["3-3", "4-2", "4-4"],
  "4-4": ["3-3", "3-4", "4-3"],
};

const captureConnections = {
  // Row 0
  "0-0": ["0-2", "2-0", "2-2"],
  "0-1": ["0-3", "2-1"],
  "0-2": ["0-0", "0-4", "2-0", "2-2", "2-4"],
  "0-3": ["0-1", "2-3"],
  "0-4": ["0-2", "2-4", "2-2"],

  // Row 1
  "1-0": ["1-2", "3-0"],
  "1-1": ["1-3", "3-1"],
  "1-2": ["1-0", "1-4", "3-2"],
  "1-3": ["1-1", "3-3"],
  "1-4": ["1-2", "3-4"],

  // Row 2 (center - most capture options)
  "2-0": ["0-0", "0-2", "2-2", "4-0", "4-2"],
  "2-1": ["0-1", "2-3", "4-1"],
  "2-2": ["0-0", "0-2", "0-4", "2-0", "2-4", "4-0", "4-2", "4-4"],
  "2-3": ["0-3", "2-1", "4-3"],
  "2-4": ["0-2", "0-4", "2-2", "4-2", "4-4"],

  // Row 3
  "3-0": ["1-0", "3-2"],
  "3-1": ["1-1", "3-3"],
  "3-2": ["1-2", "3-0", "3-4"],
  "3-3": ["1-3", "3-1"],
  "3-4": ["1-4", "3-2"],

  // Row 4
  "4-0": ["2-0", "2-2", "4-2"],
  "4-1": ["2-1", "4-3"],
  "4-2": ["2-0", "2-2", "2-4", "4-0", "4-4"],
  "4-3": ["2-3", "4-1"],
  "4-4": ["2-2", "2-4", "4-2"],
};
const ValidateMove = (fromKey, toKey, pieceType, GameBoard) => {
  // console.log(
  //   "fromkey",
  //   fromKey,
  //   "tokey",
  //   toKey,
  //   "piecetype",
  //   pieceType,
  //   "gameboard",
  //   GameBoard
  // );
  if (GameBoard[toKey]) {
    return null;
  }
  if (!fromKey) {
    return null;
  }
  if (moveConnections[fromKey].includes(toKey)) {
    console.log("displace");
    return "displace";
  }

  // for capture moves
  if (pieceType == "tiger" && captureConnections[fromKey].includes(toKey)) {
    return isValidCapture(fromKey, toKey, GameBoard);
  }
};

const isValidCapture = (fromKey, toKey, GameBoard) => {
  const [fromRow, fromCol] = fromKey.split("-").map(Number);
  const [toRow, toCol] = toKey.split("-").map(Number);
  const midRow = (fromRow + toRow) / 2;
  const midCol = (fromCol + toCol) / 2;
  const midKey = `${midRow}-${midCol}`;

  if (GameBoard[midKey] === "goat") {
    console.log("capture");
    return "capture";
  }
};

export default ValidateMove;
